<!DOCTYPE html>
<html>
<head>
    <title>Formulário de Upload</title>
</head>
<body>
    <h2>Envie seus dados</h2>
    <form id="myForm">
        <label for="name">Nome:</label><br>
        <input type="text" id="name" name="name" required><br><br>
        
        <label for="email">Email:</label><br>
        <input type="email" id="email" name="email" required><br><br>
        
        <label for="file">Anexo (PDF/Imagem):</label><br>
        <input type="file" id="file" name="file" accept=".pdf,.png,.jpg,.jpeg" required><br><br>
        
        <input type="submit" value="Enviar">
    </form>

    <!-- Área de debug -->
    <h3>Mensagem do Servidor:</h3>
    <pre id="debug"></pre>

<script>
    document.getElementById('myForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData();
    formData.append('name', document.getElementById('name').value);
    formData.append('email', document.getElementById('email').value);
    const fileInput = document.getElementById('file');
    
    if (fileInput.files.length === 0) {
        alert("Por favor, selecione um arquivo antes de enviar.");
        return;
    }
    
    const file = fileInput.files[0];
    formData.append('file', file);

    // Debug visual do FormData
    console.log("Dados capturados no formulário:");
    for (const [key, value] of formData.entries()) {
        console.log(`${key}: ${value}`);
    }

    fetch('https://script.google.com/macros/s/AKfycbzYLPhuIzpr4YhsMU00WIo4OI5HmLLt2_zrwJquhYWuGJi5LvtgtbPfDYOvlEPo9Gm6/exec', { // Substitua pela URL do seu script
        method: 'POST',
        body: formData
    })
    .then(response => response.text())
    .then(message => {
        document.getElementById('debug').textContent = message;
        console.log("Resposta do servidor:", message);
    })

});
/*document.getElementById('myForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData();
    formData.append('name', document.getElementById('name').value);
    formData.append('email', document.getElementById('email').value);
    const fileInput = document.getElementById('file');
    if (fileInput.files.length === 0) {
        alert("Por favor, selecione um arquivo antes de enviar.");
        return;
    }
    formData.append('file', fileInput.files[0]);

    // Debug visual dos dados
    const debugContent = 
        Nome: ${formData.get('name')}
        Email: ${formData.get('email')}
        Arquivo: ${fileInput.files[0].name}
        Tipo: ${fileInput.files[0].type}
        Tamanho: ${fileInput.files[0].size} bytes
    ;
    console.log("Dados capturados no formulário:", debugContent);

    // Debug do FormData (não podemos acessar diretamente, então convertemos para texto)
    const formDataDebug = [];
    for (const [key, value] of formData.entries()) {
        formDataDebug.push(${key}: ${value});
    }
    console.log("Conteúdo do FormData enviado:", formDataDebug.join('\n'));

    fetch('https://script.google.com/macros/s/AKfycbzYLPhuIzpr4YhsMU00WIo4OI5HmLLt2_zrwJquhYWuGJi5LvtgtbPfDYOvlEPo9Gm6/exec', { // Substitua pela URL do seu script
        method: 'POST',
        body: formData
    })
    .then(response => response.text())
    .then(message => {
        document.getElementById('debug').textContent = message;
        console.log("Resposta do servidor:", message);
    })
    .catch(error => {
        document.getElementById('debug').textContent = ERRO: ${error.message};
        console.error("Erro durante o envio:", error);
    });
});*/
</script>

            
</body>
</html>
