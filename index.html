<!DOCTYPE html>
<html>
<head>
    <title>Formulário de Upload</title>
</head>
<body>
    <h2>Envie seus dados-chega</h2>
    <form id="myForm">
        <label for="name">Nome:</label><br>
        <input type="text" id="name" name="name" required><br><br>
        
        <label for="email">Email:</label><br>
        <input type="email" id="email" name="email" required><br><br>
        
        <label for="file">Anexo (PDF/Imagem):</label><br>
        <input type="file" id="file" name="file" accept=".pdf,.png,.jpg,.jpeg" required><br><br>
        
        <input type="submit" value="Enviar">
    </form>

    <!-- Área de debug -->
    <h3>Dados Capturados:</h3>
    <pre id="debug"></pre>

    <script>
document.getElementById('myForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    const debug = document.getElementById('debug');
    
    try {
      debug.textContent = "Enviando dados...";
      
      // Use um proxy para contornar o CORS
      const proxyUrl = 'https://cors-anywhere.herokuapp.com/'; // Proxy público
      const scriptUrl = 'https://script.google.com/macros/s/AKfycbyhP_tiMGIMuNxSa6lFa36N8FP2ssJ8ek_yBuTSjAkWv9JNu1dGWj_ntPGsreaBs_u9ZA/exec'; // Substitua pela URL do seu script
      
      const response = await fetch(proxyUrl + scriptUrl, {
        method: 'POST',
        body: formData,
        mode: 'cors'
      });
      
      const text = await response.text();
      debug.textContent = `Resposta: ${text}`;
      
    } catch (error) {
      debug.textContent = `ERRO: ${error.message}`;
      console.error('Detalhes do erro:', error);
    }
});
</script>
</body>
</html>
